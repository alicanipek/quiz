(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{26:function(e,t,n){e.exports=n(38)},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=(n(31),n(11)),l=n(8),u=n(2),s=r.a.createContext(void 0);function m(e){var t=e.children,n=r.a.useState(""),a=Object(u.a)(n,2),c=a[0],o=a[1];return r.a.createElement(s.Provider,{value:{user:c,setUser:function(e){o(e)}}},t)}var d=function(){return r.a.useContext(s)};function f(){var e=d().user,t=Object(l.f)(),n=new URLSearchParams(Object(l.g)().search);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex flex-col min-h-screen justify-center md:w-1/2 mx-auto px-2"},r.a.createElement("div",{className:"flex flex-col bg-gray-200 p-3 my-3 rounded-md h-48 text-lg text-center justify-center font-extrabold text-gray-800"},e," has ",n.get("correct"),"1"===n.get("correct")?" correct answer":" correct answers"),r.a.createElement("div",{className:"flex flex-col justify-between mb-3"},r.a.createElement("button",{type:"button",className:"flex-grow w-full h-12 text-white bg-indigo-500 hover:bg-indigo-400 focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 md: rounded-md",onClick:function(){return t.push("/quiz-app")}},"Restart Quiz"))))}var b=n(1),p=n.n(b),g=n(6),y=n(13),h=n(25);function x(){var e=d(),t=e.user,n=e.setUser,r=Object(l.f)(),c=a.useState([]),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(h.a)(),f=m.register,b=m.handleSubmit,x=m.errors,v="/quiz?amount=",E=b((function(e){var t=e.amount,n=e.category,a=e.difficulty,c=e.type;v+=t,v+="any"!==n?"&category="+n:"",v+="any"!==a?"&difficulty="+a:"",v+="any"!==c?"&type="+c:"",r.push(v)}));return a.useEffect((function(){(function(){var e=Object(g.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_category.php");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.trivia_categories);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),a.createElement("div",{className:"flex flex-col min-h-screen justify-center md:w-1/2 mx-auto px-2"},a.createElement("div",{className:"py-5 text-center"},"Quiz App"),a.createElement("form",{className:"grid grid-cols-1 row-gap-3",onSubmit:E},a.createElement("label",null,"Your Name"),a.createElement("input",{name:"name",ref:f({required:!0,max:50}),type:"text",className:Object(y.a)("border border-black border-solid px-3 py-4 h-12 rounded-md text-base",x.name&&"border-red-300 focus:border-red-600 focus:shadow-outline-red"),value:t,onChange:function(e){return n(e.target.value)}}),a.createElement("label",null,"Number of Questions"),a.createElement("input",{name:"amount",ref:f({required:!0,max:50}),type:"number",className:Object(y.a)("border border-black border-solid px-3 py-4 h-12 rounded-md text-base",x.amount&&"border-red-300 focus:border-red-600 focus:shadow-outline-red")}),a.createElement("label",null,"Category"),a.createElement("select",{name:"category",className:"border border-black border-solid px-3 py-2 h-12 rounded-md text-base",ref:f},a.createElement("option",{value:"any"},"Any Category"),i.map((function(e){return a.createElement("option",{key:e.id,value:e.id},e.name)}))),a.createElement("label",null,"Difficulty"),a.createElement("select",{name:"difficulty",className:"border border-black border-solid px-3 py-2 h-12 rounded-md text-base",ref:f},a.createElement("option",{value:"any"},"Any Difficulty"),a.createElement("option",{value:"easy"},"Easy"),a.createElement("option",{value:"medium"},"Medium"),a.createElement("option",{value:"hard"},"Hard")),a.createElement("label",null,"Type"),a.createElement("select",{name:"type",className:"border border-black border-solid px-3 py-2 h-12 rounded-md text-base",ref:f},a.createElement("option",{value:"any"},"Any Type"),a.createElement("option",{value:"multiple"},"Multiple Choice"),a.createElement("option",{value:"boolean"},"True / False")),a.createElement("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-500 focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 py-2 h-12 rounded-md text-white"},"Start")))}var v=n(24),E=n(3),w=n(15),j=n.n(w),N=n(41);function O(e){var t=e.handleClick,n=e.handleFinish,a=e.isFinish;return r.a.createElement("div",{className:"flex flex-row justify-between items-center"},r.a.createElement("button",{type:"button",className:"w-1/3 flex-grow h-12 bg-gray-500 hover:bg-gray-400 md: rounded-md",onClick:function(){return t("dec")}},"Previous"),r.a.createElement("button",{type:"button",className:"w-1/3 mx-1 flex-grow h-12 text-white bg-indigo-500 hover:bg-indigo-400 focus:shadow-outline-indigo focus:border-indigo-700 active:bg-indigo-700 md: rounded-md",onClick:n},a?"Restart Quiz":"Finish Quiz"),r.a.createElement("button",{className:"w-1/3 flex-grow h-12 bg-gray-500 hover:bg-gray-400 md: rounded-md",onClick:function(){return t("inc")}},"Next"))}function k(e){var t=e.questionIndex,n=e.totalQuestions,a=e.category,c=e.time;return r.a.createElement("div",{className:"flex flex-row items-center justify-between mb-3 bg-gray-900 text-white h-12 md:rounded-md"},r.a.createElement("div",{className:"text-left pl-5"},t," / ",n),r.a.createElement("div",{className:"text-center"},a),r.a.createElement("div",{className:"text-right w-10 pr-5"},c))}function C(e){var t=e.text,n=e.selected,a=e.isTrue,c=e.onClick;return r.a.createElement("button",{onClick:c,className:Object(y.a)("flex-1 flex-grow text-left bg-gray-300 rounded-md my-1 ".concat(!n&&!a&&"hover:bg-gray-200"," py-3 pl-6"),a&&n&&"bg-green-300",a&&!n&&"bg-red-300",!a&&n&&"bg-blue-300")},r.a.createElement("span",null,j.a.decode(t)))}function S(e){var t=e.options,n=e.isFinish,a=e.onClick,c=e.correct_answer,o=e.answer;return r.a.createElement("div",{className:"flex flex-col justify-between mb-3"},t.map((function(e,t){return r.a.createElement(C,{key:t,text:e,selected:e===o,isTrue:n&&e===c,onClick:a})})))}var q={transition:"opacity ".concat(200,"ms ease-in-out"),opacity:0},z=[{key:"entering",value:{opacity:1}},{key:"entered",value:{opacity:1}},{key:"exiting",value:{opacity:0}},{key:"exited",value:{opacity:0}}];var F=function(){var e=Object(l.g)(),t=Object(l.f)(),n=Object(a.useState)([]),c=Object(u.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)([""]),m=Object(u.a)(s,2),d=m[0],f=m[1],b=Object(a.useState)(0),y=Object(u.a)(b,2),h=y[0],x=y[1],w=Object(a.useState)(!1),C=Object(u.a)(w,2),F=C[0],T=C[1],_=r.a.useState(!0),Q=Object(u.a)(_,2),A=Q[0],M=Q[1],I=r.a.useState(""),P=Object(u.a)(I,2),R=P[0],U=P[1],D=Object(a.useState)(90),J=Object(u.a)(D,2),B=J[0],H=J[1];Object(a.useEffect)((function(){var e=setTimeout((function(){0!==o[h].time||F?o[h].time>0&&(o[h].time=o[h].time-1,H(o[h].time)):(T(!0),t.push("/result?correct="+o.map((function(e){return e.correct_answer})).filter((function(e){return d.includes(e)})).length))}),1e3);return function(){return clearTimeout(e)}}),[d,B,o,F,t,h]),Object(a.useEffect)((function(){(function(){var t=Object(g.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://opentdb.com/api.php"+e.search);case 2:return n=t.sent,t.next=5,n.json();case 5:(a=t.sent).results.forEach((function(e){"multiple"===e.type?(e.options=e.incorrect_answers.concat(e.correct_answer).sort((function(){return Math.random()-.5})),e.time=90):(e.options=["True","False"],e.time=90)})),i(a.results);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.search]);var L=function(e){F||(h<o.length-1&&M(!1),U("inc"),f([].concat(Object(E.a)(d.slice(0,h)),[e.currentTarget.innerText],Object(E.a)(d.slice(h+1,d.length)))))},Y=o.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(k,{questionIndex:h+1,totalQuestions:o.length,category:e.category,time:e.time}),r.a.createElement("div",{key:t,className:"flex flex-col bg-gray-200 p-3 my-3 rounded-md h-48 text-lg text-center justify-center font-extrabold text-gray-800"},j.a.decode(e.question)),r.a.createElement(S,{answer:d[h],correct_answer:e.correct_answer,options:e.options,onClick:L,isFinish:F}))}));return r.a.createElement("div",{className:"flex flex-col min-h-screen md:justify-center md:w-1/2 mx-auto"},r.a.createElement(N.a,{in:A,timeout:200,onExited:function(){M(!0),F||H(90),"inc"===R?x(h===o.length-1?h:h+1):"dec"===R&&x(0===h?0:h-1),U("")}},(function(e){return r.a.createElement("div",{style:Object(v.a)({},q,{},z.filter((function(t){return t.key===e}))[0].value)},Y[h])})),r.a.createElement(O,{handleClick:function(e){"dec"===e&&0===h||"inc"===e&&h===o.length-1||(M(!1),U(e))},handleFinish:function(){F?t.push("/quiz-app"):(T(!0),H(0),t.push("/result?correct="+o.map((function(e){return e.correct_answer})).filter((function(e,t){return e===d[t]})).length))},isFinish:F}))};var T=function(){return r.a.createElement(m,null,r.a.createElement("div",{className:"min-h-screen"},r.a.createElement("div",{className:"mx-auto bg-gray-100 max-w-screen-lg"},r.a.createElement(i.a,null,r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(l.a,{to:"/quiz-app"})),r.a.createElement(l.b,{exact:!0,path:"/quiz-app"},r.a.createElement(x,null)),r.a.createElement(l.b,{path:"/result"},r.a.createElement(f,null)),r.a.createElement(l.b,{path:"/quiz"},r.a.createElement(F,null))))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.79debbe2.chunk.js.map